<ion-menu [content]="content"  (ionOpen)="menuOpened()" (ionClose)="menuClosed()">
  <ion-header>
    <div class="user-img">
      <img src="{{profilePhoto}}" width="100" height="100" alt="">
    </div>
    <div class="user-name">
      {{firstname}} {{lastname}}
    </div>
    <div class="user-company">
      {{companyGroupName}}
    </div>

  </ion-header>

  <ion-content>
    <!-- <ion-list>
      <button menuClose ion-item *ngFor="let p of pages" (click)="openPage(p)"  color="{{p.color}}" >
        <img src="assets/imgs/menu-{{p.icon}}-icon@2x.png" width="24">{{p.title}}
      </button>
    </ion-list> -->

    <ion-list class="left-drawer">
      <ion-item color="gray" *ngFor="let p of pages; let i=index" text-wrap (click)="toggleLevel1('idx'+i);openPage(p)"
        [ngClass]="{active: isLevel1Shown('idx'+i)}">
        <img src="assets/imgs/menu-{{p.icon}}-icon@2x.png" width="24">{{p.title}}
        <ion-list *ngIf="isLevel1Shown('idx'+i)" style="background: none">
          <ion-item color="gray" menuClose *ngFor="let s of p.subs; let i2=index" text-wrap (click)="toggleLevel2('idx'+i+'idx'+i2);openPage(s)"
            [ngClass]="{active: isLevel2Shown('idx'+i+'idx'+i2)}">
            {{s.title}}     
          </ion-item>
        </ion-list>
      </ion-item>

      <!-- <button menuClose ion-item *ngFor="let p of pages" (click)="openPage(p)"  color="{{p.color}}" >
        <img src="assets/imgs/menu-{{p.icon}}-icon@2x.png" width="24">{{p.title}}
      </button> -->

    </ion-list>

  </ion-content>

</ion-menu>
<ion-nav [root]="rootPage" #content swipeBackEnabled="false"></ion-nav>